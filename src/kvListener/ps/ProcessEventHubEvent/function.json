{
  "bindings": [
    {
      "type": "eventHubTrigger",
      "name": "eventHubMessage",
      "direction": "in",
      "eventHubName": "%eventHubName%",
      "connection": "eventhub",
      "cardinality": "one",
      "consumerGroup": "$Default"
    },
    { 
      "name": "ConfigIn",
      "type": "cosmosDB",
      "databaseName": "%cosmosDatabaseName%",
      "containerName": "Config",
      "connection": "cosmosdb",
      "direction": "in" 
    },
    { 
      "name": "Secrets",
      "type": "cosmosDB",
      "databaseName": "%cosmosDatabaseName%",
      "containerName": "%cosmosSecretsContainerName%",
      "createIfNotExists": true,
      "connection": "cosmosdb",
      "direction": "out" 
    },
    {
        "name": "Workloads",
        "type": "cosmosDB",
        "databaseName": "%cosmosDatabaseName%",
        "containerName": "Workloads",
        "createIfNotExists": true,
        "connection": "cosmosdb",
        "direction": "out" 
    },
    { 
      "name": "Access",
      "type": "cosmosDB",
      "databaseName": "%cosmosDatabaseName%",
      "containerName": "SecretsAccessedEvents",
      "createIfNotExists": true,
      "connection": "cosmosdb",
      "direction": "out" 
    },
    { 
      "name": "ConfigOut",
      "type": "cosmosDB",
      "databaseName": "%cosmosDatabaseName%",
      "containerName": "Config",
      "createIfNotExists": true,
      "connection": "cosmosdb",
      "direction": "out" 
    }
  ]
}